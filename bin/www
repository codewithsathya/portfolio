require("dotenv").config();

const fs = require("fs");
const http = require("http");
const https = require("https");
const app = require("..");

const httpPort = process.env.PORT || 80;
const httpsPort = process.env.PORT || 443;

const httpsOptions = {
    key: fs.readFileSync(process.env.HTTPS_KEY),
    cert: fs.readFileSync(process.env.HTTPS_CERT)
}

http.createServer(app).listen(httpPort, () => console.log(`HTTP Server running on port ${httpPort}`));
https.createServer(httpsOptions, app).listen(httpsPort, () => console.log(`HTTPS Server running on port ${httpsPort}`));